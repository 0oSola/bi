<!doctype html>
<html lang="zh"><head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>workbench</title>
    
    <link rel="stylesheet" href="../static/css/bootstrap/bootstrap.min.css"/>
    
	<link rel="stylesheet" href="../static/css/reset.css"> <!-- CSS reset -->	
	<script src="../static/js/modernizr.js"></script> <!-- Modernizr -->
	<link rel="stylesheet" type="text/css" href="../static/css/default.css">
    <link rel="stylesheet" href="../static/css/style.css"> <!-- Resource style -->
    <link rel="stylesheet" type="text/css" href="../static/css/workflow.css"/>
	<link rel="stylesheet" type="text/css" href="../static/css/layout.css"/>
    <link rel="stylesheet" type="text/css" href="../static/css/common_ajax.css"/>
    <link rel="stylesheet" type="text/css" href="../static/css/font-awesome/font-awesome.min.css"/>
	<!--[if IE]>
		<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
</head>
<body>

<div class="success-box" id="success-box">
    <h4 class="success-heading">修改权限成功！！</h4>
</div>

<div class="msg-box" id="msg-box">
    <h4 class="alert-heading">发生错误了</h4>
    <p id="msg-content">fdfdsfd发生错误了发生错误了发生错误了发生错误了</p>
</div>

<div class="spin" id="spin">
	<img src="../static/images/spin.svg"/>
</div>

<!--弹出层-->
<!--delete-->
<div id="deleteEleModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               删除元素
            </h3>
         </div>
         <div class="modal-body">
            是否删除该元素？
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            <button type="button" class="btn btn-primary deleteEleBtn">
               确认
            </button>
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<!--delete-->
<div id="deleteModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               删除元素
            </h3>
         </div>
         <div class="modal-body">
            是否删除该元素？
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            <button type="button" class="btn btn-primary deleteBtn">
               确认
            </button>
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->


<div id="tableModal-tpl">
    <div class="modal fade" id="tableModal" tabindex="-1" role="dialog" 
       aria-labelledby="myModalLabel" aria-hidden="true">
       <div class="modal-dialog">
          <div class="modal-content">
             <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" 
                   aria-hidden="true">×
                </button>
                <h4 class="modal-title" id="myModalLabel">
                   数据过滤
                </h4>
             </div>
             <div class="modal-body">
                <div class="menu-box" id="type-box">
                    <a class="menu-row select" data-type="tj-content">条件模式</a>
                    <a class="menu-row" data-type="sql-content">SQL模式</a>
                    <a class="menu-row gl-result" data-type="table-content">过滤结果
                    <div class="back"></div></a>
                </div>
                <div id="chart-tab1">
                    <!--end tj-->    
                    <div class="tj-content tab-item">
                        <div class="tj-row">
                            <label class="item-name">字段1 </label>
                            <select class="gl-type">
                                <option value="0" selected="selected">模糊匹配</option>
                                <option value="1">区间</option>
                                <option value="2">大于</option>
                                <option value="3">小于</option>
                                <option value="4">大于等于</option>
                                <option value="5">小于等于</option>
                                <option value="6">等于</option>
                            </select>
                            <input class="start-value" type="text"/>
                            <div class="qj-box">
                                <label>~</label>
                                <input class="end-value" type="text"/>
                            </div>
                        </div>
                    </div>
                    <!--end tj-->
                    <!--sql.-->
                     <div class="sql-content tab-item" style="display:none">
                        <textarea class="sql-editor" style="width:100%;height:300px;" placeholder="输入SQL语句...."></textarea>
                     </div>
                     <!--end sql.-->
                     <!--table.-->
                     <div class="table-content tab-item" style="display:none">
                        <div class="gl-default"> 
                        	暂无过滤结果
                        </div>
                        <div class="gl-main" style="display:none;">
                        	<table class="table table-striped table-bordered table-f4984e datatable gl-table">
                                <thead>
                                    <tr class="table-title">
                                        <!--<th>id</th>
                                        <th>date</th>
                                        <th>name</th>
                                        <th>value</th>
                                        <th>date</th>
                                        <th>name</th>
                                        <th>value</th>-->
                                    </tr>
                                </thead>
                                <tbody class="data-tbody">
                                    <tr class=" gradeA odd">
                                        <td>2015-05-01</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                    </tr>
                                    <tr class=" gradeA even">
                                        <td>2015-05-01</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                     </div>
                     <!--end table.-->
                </div>
                
             </div>
             <div class="modal-footer">
                <button type="button" class="btn btn-default" 
                   data-dismiss="modal">
                   关闭
                </button>
                <button type="button" class="btn btn-primary gl-submit">
                   提交过滤
                </button>
             </div>
          </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>


<div id="sfModal-tpl">
    <div class="modal fade" id="sfModal" input-table="" tabindex="-1" role="dialog" 
       aria-labelledby="myModalLabel" aria-hidden="true">
       <div class="modal-dialog" style="width:900px;">
          <div class="modal-content">
             <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" 
                   aria-hidden="true">×
                </button>
                <h4 class="modal-title" id="myModalLabel">
                   算法运行
                </h4>
             </div>
             <div class="modal-body sf-box">
             	<div class="default">请选择关联的数据库</div>
                <div class="main" style="display:none">
               		<div class="sf-content">
                    	<div class="sf-cs">
                            <div class="sf-row">
                                <label class="title">X轴 </label>
                                <select class="t1-value item">
                                    <option selected value="1">字段1</option>
                                </select>
        					</div>
                            <div class="sf-row">
                                <label  class="title">y轴 </label>
                                <select class="t2-value item">
                                    <option selected value="1">字段1</option>
                                </select>
                             </div>
                           	 <div class="sf-row">
                             	<label  class="title">簇个数 </label>
                             	<input class="n-clusters item" value="3" type="number"/>
                             </div>  
                           
                             
                             <div class="sf-row">
                             	<button class="btn btn-info SFJs-btn">计算</button>
                                <button class="btn btn-default SFFb-btn">发布</button>
                                <!--<button class="btn btn-default SFJy-btn">交易</button>-->
                                <button class="btn btn-default SFSc-btn">生成图表</button>
                                <button class="btn btn-default SFXz-btn">下载数据</button>
                                <a class="btn btn-default chartDw-btn">下载图表</a>
                                <button class="btn btn-default" data-dismiss="modal">关闭</button>
                             </div>
                        </div>
                        <div class="sf-result">
                        	<div class="menu-box" id="type-box">
                                <a class="menu-row select" data-type="sfdata-content">数据结果集</a>
                                <a class="menu-row sf-chart" data-type="sfChart-content">图表
                                <div class="back"></div></a>
                            </div>
                            <!--end sfdata-->    
                            <div class="sfdata-content tab-item">
                                <div class="sf-data"><textarea class="data-area" readonly></textarea></div>
                            </div>
                            <!--end sfdata-->
                            <!--sfChart.-->
                             <div class="sfChart-content tab-item" style="display:none">
                             	 <div class="default-chart" style="margin-top:100px;">点击“生成图表”按钮开始生成图表</div>
                                 <img class="chart-img"/>
                             </div>
                             <!--end sfChart.-->                      
                        </div>
                    </div>
                </div>
             </div>
          </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>

<div id="chartModal-tpl">
    <div class="modal fade" id="chartModal" input-table="" tabindex="-1" role="dialog" 
       aria-labelledby="myModalLabel" aria-hidden="true">
       <div class="modal-dialog">
          <div class="modal-content" style="width:840px;">
             <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" 
                   aria-hidden="true">×
                </button>
                <h4 class="modal-title" id="myModalLabel">
                   图表功能
                </h4>
             </div>
             <div class="modal-body chart-box">
                <div class="default">请选择关联的数据库</div>
                <div class="main" style="display:none">
                	<div class="chart-cs">
                        <div class="chart-row">
                            <label>x轴 </label>
                            <select class="x-value">
                                <option selected value="1">字段1</option>
                            </select>
    
                            <label>y轴 </label>
                            <select class="y-value">
                                <option selected value="1">字段1</option>
                            </select>
    						<button class="btn btn-info chartSc-btn">生成</button>
                            <button class="btn btn-default chartBc-btn">保存</button>
                           <!-- <button class="btn btn-default chartFB-btn">发布</button>-->
                            <button class="btn btn-default chartjy-btn">交易</button>
                            <button class="btn btn-default chartDw-btn">下载图片</button>
                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                         </div>
                    </div>
                    <div class="chart-result">
                    	<div class="default-chart">点击生成开始生成图表</div>
                        <img class="chart-img" />
                    </div>
                </div>
             </div>
          </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>

<!--end 弹出层-->


<div style="padding-left:240px; height:100%;">
		<ul class="database-list cd-accordion-menu animated" id="menu">
			<li class="has-children db-list">
				<input type="checkbox" name ="group-1" id="group-1" checked>
                <!---->
				<label for="group-1"><b class="db-icon db-list-icon fa fa-minus-square"></b>数据库列表</label>
	      		<ul id="db-box">
                	{% for ds in ds_list %}
                    	<li class="has-children">
                            <input type="checkbox" class="database-name" name ="{{ ds.ds_name }}" id="{{ ds.ds_alias }}_{{ ds.ds_name }}" data-alias="{{ ds.ds_alias }}">
                            <label for="{{ ds.ds_alias }}_{{ ds.ds_name }}"><b class="db-icon fa fa-database"></b>{{ ds.ds_name }}</label>
    
                            <ul>
                            	{% for tb in ds.table %}
                                    <li class="has-children">
                                        <input type="checkbox" name ="{{ tb.tablename }}" id="{{ ds.ds_alias }}_{{ tb.tablename }}">
                                        <label for="{{ ds.ds_alias }}_{{ tb.tablename }}" class="drag-items" data-name="{{ tb.tablename }}" data-type="table"><b class="db-icon fa fa-table"></b>{{ tb.tablename }}</label>
                                        <ul>
                                            {% for schema in tb.schema %}
                                                <li><a class="col-item" data-value="{{ schema }}"><b class="db-icon glyphicon glyphicon-align-justify"></b>{{ schema }}</a></li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                {% endfor %}
                            </ul>  
                        </li>
                    {% endfor %}

                	<!-- static-->
                	<li class="has-children">
	      				<input type="checkbox" class="database-name" name ="database-1" id="database-1" data-alias="alias1">
						<label for="database-1"><b class="db-icon glyphicon glyphicon-inbox"></b>库1</label>

						<ul>
							<li class="has-children">
								<input type="checkbox" name ="table-1" id="table-11">
								<label for="table-11"  class="drag-items" data-type="table" data-name="表 1"><b class="db-icon glyphicon glyphicon-list-alt"></b>表 1</label>
								<ul>
									<li><a class="col-item" data-value="id"><b class="db-icon glyphicon glyphicon-align-justify"></b>id</a></li>
									<li><a class="col-item" data-value="value"><b class="db-icon glyphicon glyphicon-align-justify"></b>value</a></li>
								</ul>
							</li>
						</ul>
                        
	      			</li>
	      			<li class="has-children">
	      				<input type="checkbox" name ="database-2" id="database-2">
						<label for="database-2">库2</label>

						<ul>
							<li class="has-children">
								<input type="checkbox" name ="table-3" id="table-3">
								<label for="table-3" class="drag-items" data-type="table">表 3</label>
								<ul>
									<li><a href="#0" class="col-item" data-value="id1">字段3</a></li>
									<li><a href="#0" class="col-item" data-value="value1">字段5</a></li>
                                    <li><a href="#0" class="col-item" data-value="id1">字段3</a></li>
									<li><a href="#0" class="col-item" data-value="value1">字段5</a></li>
                                    <li><a href="#0" class="col-item" data-value="id1">字段3</a></li>
									<li><a href="#0" class="col-item" data-value="value1">字段5</a></li>
								</ul>
							</li>
						</ul>
	      			</li>
                    
                  <!--end static-->
                    
	      		</ul>
			</li>
			
			<!--<li class="has-children">
				<input type="checkbox" name ="group-2" id="group-2">
					<label for="group-2">算法</label>
				<ul>
					<li><a href="#0" class="drag-items" data-type="sf">canopy</a></li>
				</ul>
			</li>
		
			<li class="has-children">
				<input type="checkbox" name ="group-3" id="group-3">
				<label for="group-3">图表</label>

				<ul>
					<li><a href="#0" class="drag-items" data-type="chart">柱状图</a></li>
					<li><a href="#0" class="drag-items" data-type="chart">散点图</a></li>
				</ul>
			</li>-->

			
		</ul> <!-- cd-accordion-menu -->
        
        <div class="top-menu" id="top-menu">
        	<!--<div class="top-border">
            	<div class="item blue"></div>
                <div class="item red"></div>
                <div class="item orange"></div>
                <div class="item yellow"></div>
                <div class="item y-green"></div>
                <div class="item green"></div>
                <div class="item purple"></div>
                <div class="item gray"></div>
            </div>-->
            
            <div class="work-name">
                <h1 id="name" class="name">{{project_name}}</h1>
            </div>
       		<ul class="list-menu">
            	<li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                       <b class="glyphicon glyphicon-random"></b>
                       算法
                       <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                       <li><span class="top-item drag-items" data-type="sf" sf-type="k-means">k-means</span></li>
                    </ul>
                </li>
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                       <b class="glyphicon glyphicon-stats"></b>
                       图表
                       <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                       <li><span class="top-item drag-items" data-type="chart" chart-type="bar">柱状图</span></li>
                       <li><span class="top-item drag-items" data-type="chart" chart-type="bubble">散点图</span></li>
                    </ul>
                </li>
            </ul>
        	
            <div class="menu-button" data-toggle="tooltip" data-placement="bottom" title="数据库列表"><a class="fa fa-database menu-item"  href="/workbench/databaselist.html"></a></div>
            <div class="menu-button" data-toggle="tooltip" data-placement="bottom" title="我的项目"><a class="glyphicon glyphicon-tasks menu-item work-list"  href="/workbench/"></a></div>
            <div class="menu-button" data-toggle="tooltip" data-placement="bottom" title="保存项目"><a class="glyphicon glyphicon-floppy-saved menu-item save-work"  href="#"></a></div>
        	<div class="menu-button" data-toggle="tooltip" data-placement="bottom" title="添加数据库"><a class="glyphicon glyphicon-plus menu-item add-database" href="/workbench/datasource"></a></div>
        </div>
        <div id="mainData" style="width:100%;height:100%; background:#ececec; position:relative;padding:20px;"></div>

</div>
	
        
		
	
</body>
<script src="../static/js/jquery/1.11.1/jquery-1.11.1.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="js/jquery-2.1.1.min.js"><\/script>')</script>
<script type="text/javascript" src="../static/js/bootstrap.min.js"></script>

<script src="../static/js/main.js"></script> <!-- Resource jQuery -->
<script type="text/javascript" src="../static/js/jquery-ui/jquery-ui-1.11.2.min.js"></script>
<script type="text/javascript" src="../static/js/jsPlumb/jquery.jsPlumb-1.7.2-min.js"></script>
<script type="text/javascript" src="../static/js/workflow.js"></script>

</html>