<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>SINGULAR-我的项目</title>

<link rel="stylesheet" type="text/css" href="../static/css/bootstrap/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../static/css/common.css" />
<link href="../static/css/font-awesome/font-awesome.min.css" type="text/css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../static/css/slideMenu.css"/>
<link rel="stylesheet" type="text/css" href="../static/css/chartlayout.css"/>
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css" />
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap-sortable/bootstrap-sortable.css"/>


<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap/bootstrap.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/common.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/font-awesome/font-awesome.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/slideMenu.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/chartlayout.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-sortable/bootstrap-sortable.css') }}">

<link href="../static/css/taskNotice.css" type="text/css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/taskNotice.css') }}">
</head>

<body>
<style type="text/css">
.top-menu{
	margin-top:-60px;	
}
.tooltip{
	background:#333;
	font-size:14px;
	border-radius:4px;
}

</style>
<div class="success-box" id="success-box">
    <h4 class="success-heading">修改权限成功！！</h4>
</div>

<div class="msg-box" id="msg-box">
    <h4 class="alert-heading">发生错误了</h4>
    <p id="msg-content">fdfdsfd发生错误了发生错误了发生错误了发生错误了</p>
</div>

<!--登出-->
<div id="logoutModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               登出
            </h3>
         </div>
         <div class="modal-body">
            是否登出用户？
         </div>
         <div class="modal-footer">
         	<a  href="/logout" class="btn btn-primary sure-logout">
               确认
            </a>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<!--delete-->
<div id="deleteDBModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               删除项目
            </h3>
         </div>
         <div class="modal-body">
            是否删除该项目？
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn btn-primary deleteDBBtn">
               确认
            </button>
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<!--create-->
<div id="newWorkModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               新建项目
            </h3>
         </div>
         <div class="modal-body">
            <div class="item" style="margin:10px 0;"><label style="width:80px;">项目名*：</label><input class="create-name" type="text" /></div>
            <div class="item"><label style="float:left;width:80px;">项目描述：</label><textarea class="project-decription" style="border:1px solid #ccc;height:300px;width:80%;"></textarea></div>
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn newWorkBtn">
               确认
            </button>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<!--create-->
<div id="viewWorkModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               项目详情
            </h3>
         </div>
         <div class="modal-body">
            <div class="item" style="margin:10px 0;"><label style="width:80px;">项目名：</label><input class="create-name" type="text" readonly/></div>
            <div class="item"><label style="float:left;width:80px;">项目描述：</label><textarea disabled class="project-decription" style="border:1px solid #ccc;background:#fff;height:300px;width:80%;"></textarea></div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->


<div class="spin" id="spin">
	<img src="{{ url_for('static', filename='images/spin.svg') }}"/>
</div>

<!---->
<div id="wrapper" class="toggled">
  <div class="overlay" style="visibility:hidden"></div>
  
  <!-- Sidebar -->
  <nav class="navbar navbar-inverse navbar-fixed-top" id="sidebar-wrapper" role="navigation">
    <ul class="nav sidebar-nav">
      <li class="sidebar-brand"> <a href="#"> SINGULAR </a> </li>
      
      <li> <a  class="key-list" href="/workbench/user_bi/home"><i class="fa fa-file-text-o"></i> 我的首页</a> </li>
      <li class="select"> <a class="key-list" href="/workbench/user_bi/my_project"><i class="fa fa-tasks"></i> 我的项目</a> </li>
      <li> <a class="key-list" href="/workbench/user_bi/my_report"><i class="fa fa-book"></i> 我的报表</a> </li>
      <li> <a class="key-list" href="/workbench/user_bi/my_material"><i class="fa fa-picture-o"></i> 我的素材库</a> </li>
      <li> <a class="key-list" href="/workbench/user_bi/my_task"><i class="fa fa-external-link"></i> 我的任务</a> </li>
      <li> <a class="key-list" href="/workbench/user_bi/my_datasource"><i class="fa fa-database"></i> 我的数据源</a> </li>
      <!--<li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i> 报表 <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
          <li><a href="#">报表列表</a></li>
          <li><a href="/workbench/material/list" target="_blank">创建报表</a></li>
        </ul>
      </li> 
      <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-database"></i> 数据库 <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
          <li><a href="/workbench/datasource">新增数据库</a></li>
          <li><a href="/workbench/datasource/list">数据库列表</a></li>
        </ul>
      </li>-->
    </ul>
  </nav>
  <!-- /#sidebar-wrapper --> 
  
  <!-- Page Content -->
  <div id="page-content-wrapper">
  	<div id="top">
    	<div class="user-menu">
        	<div class="user-item">
            	<span class="menu-item">{{ username }} <b class="caret"></b></span>
                <!--用户切换-->
                <div class="drop-user-list" id="drop-user">
                    <ul class="user-type-list">
                        {%if user_type == 0 %}
                            <li class="select"><a class="user-switch" href="/workbench/user_bi/home">BI用户</a></li>
                            <li><a class="user-switch" href="/workbench/user_normal/home">普通用户</a></li>
                         {% elif user_type == 1 %}
                            <li><a class="user-switch" href="/workbench/user_normal/home">普通用户</a></li>
                        {% endif %}
                    </ul>
                </div>
                <!--end 用户切换-->
            </div>
            
            <!--任务通知-->
            <div class="menu-item notice-item">
            	<span class="task-notice fa fa-bell"><i class="new-notice" id="new-notice"></i></span>
                
                <div class="drop-notice-list" id="drop-notice">
                	<div class="border-top"><span class="border-inner"></span></div>
                    <div class="task-title">最新完成的任务</div>
                    <div class="null-content">暂无已完成的最新任务</div>
                	<ul class="complate-list">
                    	<li><a href="void();">暂无已完成的最新任务</a></li>
                        <li><a href="void();">task222222222222222222222222222 已完成</a></li>
                    </ul>
                    <div class="list-more"><a href="/workbench/user_bi/my_task">查看更多>></a></div>
                </div>
            </div>
            <!--end 任务通知-->
            
        	<div class="flip-container menu-item" ontouchstart="this.classList.toggle('hover');">
                <div class="flipper logout-box">
                    <div class="front-box">
                        <i class="fa fa-sign-out logout"></i>
                    </div>
                    <div class="back-box">
                        <i class="fa fa-sign-out logout_hover"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main">
<!--      <h1 class="page-title">任务列表</h1>
      <div class="menu-banner">
      	   
      	   <div class="date-row">
                <div style="float:left;margin-top:-7px; margin-right:10px;" class="input-group date form_date col-md-5" data-date="" data-date-format="yyyy-mm-dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                    <input class="form-control form-control1" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar icon-calendar"></span></span>
                </div>
                <input type="hidden" id="dtp_input1" value=""/>
                <label style="float:left;margin-right:10px;">到</label>
                <div style="float:left;margin-top:-7px; margin-right:10px;" class="input-group date form_date col-md-5" data-date="" data-date-format="yyyy-mm-dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                    <input class="form-control form-control2" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar icon-calendar"></span></span>
                </div>
                <input type="hidden" id="dtp_input2" value=""/>
          </div>
          <span class="new-mission-btn">发布任务</span>
      </div>-->


       <div class="chart-box" id="chart-tab3">
            <div class="title-box">
                <span class="title">我的项目</span>
            </div>
           
     	<!--mymission-->
        <div class="myProject-content tab-item" data-pageNo="1">
            <div class="tb-box">
                <table class="table table-striped table-bordered table-hover datatable">
                    <thead>
                        <tr class="table-title">
                        	<th width="180px">操作</th>
                            <th>项目名</th>
                            <th>创建人</th>
                            <th>创建时间</th>
                            <th>更新人</th>
                            <th>更新时间</th>
                            
                        </tr>
                    </thead>
                    <tbody class="data-tbody">
                    	{% for pl in project_list %}
                        	{%if(pl.id % 2==0) %}
                                <tr class=" gradeA odd">
                                	<td class="cz-box">
                                        <a href="/workbench/user_bi/project/{{ pl.project_name }}/console" target="new" class="cz-item work-edit">编辑</a>
                                        <span data-name="{{ pl.project_name }}" class="cz-item work-remove">删除</span>
                                        <span data-description="{{ pl.project_description }}" data-name="{{ pl.project_name }}" class="cz-item work-zs">详情</span>
                                    </td>
                                    <td>{{ pl.project_name }}</td>
                                    <td>{{ pl.create_person }}</td>
                                    <td>{{ pl.create_time }}</td>
                                    <td>{{ pl.update_person }}</td>
                                    <td>{{ pl.update_time }}</td>
                                </tr>
                            {% else %}
                                <tr class=" gradeA even">
                                	<td class="cz-box">
                                    	<a href="/workbench/user_bi/project/{{ pl.project_name }}/console" target="new" class="cz-item work-edit">编辑</a>
                                        <span data-name="{{ pl.project_name }}" class="cz-item work-remove">删除</span>
                                        <span data-description="{{ pl.project_description }}" data-name="{{ pl.project_name }}"s class="cz-item work-zs">详情</span>
                                        <!--<a href="/workbench/project/{{ pl.project_name }}" target="new" class="fa fa-pencil-square-o work-edit"></a>
                                        <i data-name="{{ pl.project_name }}" class="fa fa-trash-o work-remove"></i>-->
                                    </td>
                                    <td>{{ pl.project_name }}</td>
                                    <td>{{ pl.create_person }}</td>
                                    <td>{{ pl.create_time }}</td>
                                    <td>{{ pl.update_person }}</td>
                                    <td>{{ pl.update_time }}</td>
                                    
                                </tr>
							{% endif %}
                        {% endfor %}
                    </tbody>
                </table>
                <span class="new-mission-btn create-work">新建项目</span>
                <div class="pageContainer"></div>
                
            </div>
        </div>
        
      </div>
      <!--end chart-box-->
           
      
    </div>
  </div>
  <!-- /#page-content-wrapper --> 
</div>  
<!-- /#wrapper --> 

<!--new-->



</body>
<script type="text/javascript" src="../static/js/jquery/1.11.1/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap.js"></script>
<script type="text/javascript" src="../static/js/bootpage/jquery.bootpag.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<script type="text/javascript" src="../static/js/highchart/highcharts.js"></script>
<script type="text/javascript" src="../static/js/chartList/chart.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-sortable/moment.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-sortable/bootstrap-sortable.js"></script>


<script src="{{ url_for('static', filename='js/jquery/1.11.1/jquery-1.11.1.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/bootpage/jquery.bootpag.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js') }}" type="text/javascript"></script>  
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/highchart/highcharts.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/chartList/chart.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-sortable/moment.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-sortable/bootstrap-sortable.js') }}" type="text/javascript"></script> 

<script type="text/javascript">

(function(){
	var add_stopAsix = 20;
  var add_stopWidth = "100px";
	var type_stopAsix = 20;
	
	
	
	$(document).ready(function () {
		$('.form_date').datetimepicker({
			language:  'zh-cn',
			weekStart: 1,
			todayBtn:  1,
			autoclose: 1,
			todayHighlight: 1,
			startView: 2,
			minView: 2,
			forceParse: 0
		});

		//payPlayer-box
		$("#report-box .menu-row").mouseenter(function(){  
			var left=$(this).position().left;
      	$("#report-box .back").css("width",$(this).css("width"));
			$("#report-box .back").stop(true,true).animate({left:left,width:$(this).css("width")}, "fast");  
		})  
		$("#report-box .menu-row").mouseleave(function(){
			
			$("#report-box .back").stop(true,true).animate({left:add_stopAsix,width:add_stopWidth},"fast");  
		})  
		$("#report-box .menu-row").on("click",function(){
			var target = $(this).attr("data-type");
			$("#chart-tab3").find(".tab-item").css("display","none");
			$("."+target).css("display","block");
			$("#report-box .menu-row").removeClass("select");
			$(this).addClass("select");
			var width = $(this).css("width");
			$("#report-box .back").css("width",$(this).css("width"));

			var left=$(this).position().left;
			$("#report-box .back").css("left",left);
			add_stopAsix=left;
      		add_stopWidth = width;
		});
		
	});
	
	 
	
	
})()
</script>

<script src="{{ url_for('static', filename='js/log.js') }}" type="text/javascript"></script> 
<script type="text/javascript" src="../static/js/log.js"></script>

<script src="{{ url_for('static', filename='js/common.js') }}" type="text/javascript"></script> 
<script type="text/javascript" src="../static/js/common.js"></script>

<script src="{{ url_for('static', filename='js/worklist.js') }}" type="text/javascript"></script> 
<script type="text/javascript" src="../static/js/worklist.js"></script>

<script src="{{ url_for('static', filename='js/taskNotice.js') }}" type="text/javascript"></script>
<script type="text/javascript" src="../static/js/taskNotice.js"></script>
</html>
