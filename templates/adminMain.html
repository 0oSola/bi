<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>SINGULAR-管理员</title>
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../static/css/common.css" />
<link href="../static/css/font-awesome/font-awesome.min.css" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" type="text/css" href="../static/css/slideMenu.css"/>
<link rel="stylesheet" type="text/css" href="../static/css/chartlayout.css"/>
<link rel="stylesheet" type="text/css" href="../static/css/common_ajax.css"/>
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css" />
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap-sortable/bootstrap-sortable.css"/>


<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap/bootstrap.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/common.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/font-awesome/font-awesome.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/slideMenu.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/chartlayout.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/common_ajax.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-sortable/bootstrap-sortable.css') }}">

<link href="../static/css/taskNotice.css" type="text/css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/taskNotice.css') }}">

</head>

<style type="text/css">
	.row{
		margin-left:0;
	}
	.sumbit-user,.edit-user,.reset-Btn{
		background:#f05423;
		padding:6px 12px;
		font-size:14px;
		border-radius:4px;
		color:#fff;
		cursor:pointer;
		margin-right:5px;
		&:hover{
			color:#fff!important;
			background:#b7431e;
		}	
	}
	
</style>

<body>

<div class="success-box" id="success-box">
    <h4 class="success-heading">修改权限成功！！</h4>
</div>

<div class="msg-box" id="msg-box">
    <h4 class="alert-heading">发生错误了</h4>
    <p id="msg-content">fdfdsfd发生错误了发生错误了发生错误了发生错误了</p>
</div>

<!--登出-->
<div id="logoutModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               登出
            </h3>
         </div>
         <div class="modal-body">
            是否登出用户？
         </div>
         <div class="modal-footer">
         	<a  href="/logout" class="btn btn-primary sure-logout">
               确认
            </a>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<!--删除用户-->
<div id="deleteUserModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               删除用户
            </h3>
         </div>
         <div class="modal-body">
            是否删除该用户？
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn btn-primary deleteUserBtn">
               确认
            </button>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->


<!--更改密码-->
<div id="resetPwModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               更改密码
            </h3>
         </div>
         <div class="modal-body">
            <div class="row"><label>用户密码</label><input type="password" class="user-password"/></div>
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn reset-Btn">
               重置密码
            </button>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->



<!--编辑用户-->
<div id="editUserModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               编辑用户
            </h3>
         </div>
         <div class="modal-body">
           	<div class="user-box task-box">
            	<div class="row"><label>用户名</label><input style="border:0" type="text" class="user-name" readonly/></div>
                <div class="row"><label>用户姓名</label><input type="text" class="nomral-name"/></div>
            	<div class="row"><label>用户手机号</label><input type="text" class="user-phone"/></div>
                <div class="row"><label>用户邮箱</label><input type="text" class="user-email"/></div>
                <div class="row"><label>用户类型</label>
                	<input type="checkbox" value="1" class="user-type common-type" checked="checked" disabled/><label>普通用户</label>
                	<input type="checkbox" value="0" class="user-type BI-type"/><label>BI用户</label>
                </div>
                <!---->
            </div>
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn edit-user">
               保存修改
            </button>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->


<!--新建用户-->
<div id="newUserModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dlModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
                data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h3 class="modal-title" id="myModalLabel">
               新建用户
            </h3>
         </div>
         <div class="modal-body">
           	<div class="user-box task-box">
            	<div class="row"><label>用户名<span style="color:#f00">*</span></label><input type="text" class="user-name user-input"/></div>
                <div class="row"><label>用户密码<span style="color:#f00">*</span></label><input type="password" class="user-password user-input"/></div>
                <div class="row"><label>用户姓名</label><input type="text" class="nomral-name user-input"/></div>
            	<div class="row"><label>用户手机号</label><input type="text" class="user-phone user-input"/></div>
                <div class="row"><label>用户邮箱</label><input type="text" class="user-email user-input"/></div>
                <div class="row"><label>用户类型</label>
                	<input type="checkbox" value="1" class="user-type common-type" checked="checked" disabled/><label>普通用户</label>
                	<input type="checkbox" value="0" class="user-type BI-type"/><label>BI用户</label>
                </div>
            </div>
         </div>
         <div class="modal-footer">
         	<button type="button" class="btn sumbit-user">
               创建
            </button>
            <button type="button" class="btn btn-default" 
                data-dismiss="modal">关闭
            </button>
            
         </div>
      </div><!-- /.modal-content -->
   </div>
</div><!-- /.modal -->

<div class="spin" id="spin">
	<img src="{{ url_for('static', filename='images/spin.svg') }}"/>
</div>


<div id="wrapper" class="toggled">
  <div class="overlay" style="visibility:hidden"></div>
  
  <!-- Sidebar -->
  <nav class="navbar navbar-inverse navbar-fixed-top" id="sidebar-wrapper" role="navigation">
    <ul class="nav sidebar-nav">
      <li class="sidebar-brand"> <a href="#"> SINGULAR </a> </li>
      <!--<li> <a href="info"><i class="fa fa-clock-o"></i> 仪表盘</a> </li>-->
      <li class="select"> <a  class="key-list" href="/workbench/user_admin/home"><i class="fa fa-users"></i> 我的用户</a> </li>
    </ul>
  </nav>
  <!-- /#sidebar-wrapper --> 
  
  <!-- Page Content -->
  <div id="page-content-wrapper">
  	<div id="top">
    	<div class="user-menu">
        	<span class="menu-item">{{ username }} <!--<b class="caret"></b>--></span>
            
        	<div class="flip-container menu-item" ontouchstart="this.classList.toggle('hover');">
                <div class="flipper logout-box">
                    <div class="front-box">
                        <i class="fa fa-sign-out logout"></i>
                    </div>
                    <div class="back-box">
                        <i class="fa fa-sign-out logout_hover"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="main">

      <div class="chart-box" id="chart-tab2">
      	<div class="title-box">
        	<span class="title">用户列表</span>
        </div>
       

     	<!--chart-->
        <div class="bb-content tab-item" data-pageNo="1">
            <div class="tb-box">
            	
<!--            	{%if user_list.length == 0 %}
                <div class="">暂时没有用户</div>
                {% else %}-->
                <table class="table table-striped table-bordered table-hover datatable" style="margin-bottom:15px;">
                    <thead>
                        <tr class="table-title">
                        	<th width="205px">操作</th>
                            <th>用户名</th> 
                            <th>用户姓名</th>
                            <th>用户类型</th>
                            <th>手机号</th>
                            <th>邮箱地址</th>
                         </tr>
                    </thead>
                    
                    <tbody class="data-tbody">
                    <!---0:BI 1：普通 2：admin-->
                    	{% for tl in user_list %}
                        	{%if tl.id % 2 == 0 %}
                             	<tr class="gradeA odd">
                                	<td class="cz">
                                    	<span class="cz-item edit-btn">编辑</span>
                                        <span class="cz-item reset-pw">更改密码</span>
                                        <span class="cz-item delete-btn">删除</span>
                                    </td>
                                    <td class="user-name">{{ tl.username }}</td>
                                    <td class="nomral-name">{{ tl.name }}</td>
                                    {%if tl.type == 0 %}
                                        <td class="user-type" data-type="{{ tl.type }}">BI用户，普通用户</td>
                                    {% elif tl.type == 1 %}
                                    	<td class="user-type" data-type="{{ tl.type }}">普通用户</td>
                                    {% endif %}
                                    <td class="user-phone">{{ tl.phone }}</td>
                                    <td class="user-email">{{ tl.email }}</td>
                            	</tr>
                            {% else %}
                                <tr class="gradeA even">
                                	<td class="cz">
                                    	<span class="cz-item edit-btn">编辑</span>
                                        <span class="cz-item reset-pw">更改密码</span>
                                       	<span class="cz-item delete-btn">删除</span>
                                    </td>
                                    <td class="user-name">{{ tl.username }}</td>
                                    <td class="nomral-name">{{ tl.name }}</td>
                                    {%if tl.type == 0 %}
                                        <td class="user-type" data-type="{{ tl.type }}">BI用户，普通用户</td>
                                    {% elif tl.type == 1 %}
                                    	<td class="user-type" data-type="{{ tl.type }}">普通用户</td>
                                    {% endif %}
                                    <td class="user-phone">{{ tl.phone }}</td>
                                    <td class="user-email">{{ tl.email }}</td>
                                </tr>
							{% endif %}
                        {% endfor %}
                    
                        
                        
                    </tbody>
                </table>
                <span id="create-user">新建用户</span>
                <div class="pageContainer"></div>
            	<!--{% endif %}-->
            </div>
        </div>
        <!--end chart-->

        
      </div>
      <!--end chart-box-->
       
       <!--<div class="chart-box" id="chart-tab2">
      	<div class="title-box">
        	<span class="title">需求接收情况</span>
            <span class="delete-box"><i class="fa fa-remove delete-tab"></i></span>
        </div>
        <div class="cs-box">
        	<div class="menu-box" id="form-box">
                <a class="menu-row select" data-type="satisfaction-content">用户满意度</a>
                <a class="menu-row" data-type="other-content">其他
                <div class="back" ></div></a>
            </div>
        </div>

     	taskOver
        <div class="taskOver-content tab-item" data-pageNo="1">
            <div class="tb-box">
                <div class="chart-content" data-type="area" id="taskOver-chart"></div>
            </div>
        </div>
        end satisfaction
        other
        <div class="other-content tab-item" data-pageNo="1" style="display:none">
            <div class="tb-box">
                <table class="table table-striped table-bordered table-hover datatable" id="other-table">
                    <thead>
                        <tr class="table-title">
                        	<th>操作</th>
                            <th>需求名称</th>
                            <th>需求创建时间</th>
                            <th>需求被接收时间</th>
                            <th>需求截止时间</th>
                            <th>需求完成时间</th>
                            <th>接收人</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody class="data-tbody">
                        
                    </tbody>
                </table>
                <div class="pageContainer"></div>
            </div>
        </div>
        other end 
      </div>
      end chart-box-->
      
    </div>
  </div>
  <!-- /#page-content-wrapper --> 
</div>  
<!-- /#wrapper --> 
</body>
<script type="text/javascript" src="../static/js/jquery/1.11.1/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap.js"></script>
<script type="text/javascript" src="../static/js/bootpage/jquery.bootpag.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<script type="text/javascript" src="../static/js/highchart/highcharts.js"></script>
<script type="text/javascript" src="../static/js/chartList/chart.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-sortable/moment.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap-sortable/bootstrap-sortable.js"></script>
<script type="text/javascript" src="../static/js/jqmeter/jqmeter.min.js"></script>


<script src="{{ url_for('static', filename='js/jquery/1.11.1/jquery-1.11.1.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/bootpage/jquery.bootpag.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js') }}" type="text/javascript"></script>  
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/highchart/highcharts.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/chartList/chart.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-sortable/moment.min.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/bootstrap-sortable/bootstrap-sortable.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/jqmeter/jqmeter.min.js') }}" type="text/javascript"></script> 


<script type="text/javascript">

(function(){
	var add_stopAsix = 20;
  var add_stopWidth = "100px";
	var type_stopAsix = 20;
	
	
	
	$(document).ready(function () {
		$('.form_date').datetimepicker({
			language:  'zh-cn',
			weekStart: 1,
			todayBtn:  1,
			autoclose: 1,
			todayHighlight: 1,
			startView: 2,
			minView: 2,
			forceParse: 0
		});

		//payPlayer-box
		$("#report-box .menu-row").mouseenter(function(){  
			var left=$(this).position().left;
      	$("#report-box .back").css("width",$(this).css("width"));
			$("#report-box .back").stop(true,true).animate({left:left,width:$(this).css("width")}, "fast");  
		})  
		$("#report-box .menu-row").mouseleave(function(){
			
			$("#report-box .back").stop(true,true).animate({left:add_stopAsix,width:add_stopWidth},"fast");  
		})  
		$("#report-box .menu-row").on("click",function(){
			var target = $(this).attr("data-type");
			$("#chart-tab3").find(".tab-item").css("display","none");
			$("."+target).css("display","block");
			$("#report-box .menu-row").removeClass("select");
			$(this).addClass("select");
			var width = $(this).css("width");
			$("#report-box .back").css("width",$(this).css("width"));

			var left=$(this).position().left;
			$("#report-box .back").css("left",left);
			add_stopAsix=left;
      		add_stopWidth = width;
		});
		
	});
	
	 
	
	
})()
</script>

<script src="{{ url_for('static', filename='js/log.js') }}" type="text/javascript"></script> 
<script type="text/javascript" src="../static/js/log.js"></script>

<script src="{{ url_for('static', filename='js/highchart/highcharts.js') }}" type="text/javascript"></script>
<script type="text/javascript" src="../static/js/highchart/highcharts.js"></script>

<script src="{{ url_for('static', filename='js/chart.js') }}" type="text/javascript"></script>
<script type="text/javascript" src="../static/js/chartList/chart.js"></script>

<script type="text/javascript" src="../static/js/common.js"></script>
<script type="text/javascript" src="../static/js/adminMain.js"></script>
<script type="text/javascript" src="../static/js/jquery-raty/jquery.raty.js"></script>



<script src="{{ url_for('static', filename='js/common.js') }}" type="text/javascript"></script> 
<script src="{{ url_for('static', filename='js/adminMain.js') }}" type="text/javascript"></script>
<script src="{{ url_for('static', filename='js/jquery-raty/jquery.raty.js') }}" type="text/javascript"></script> 






</html>